-- phpMyAdmin SQL Dump
-- version 5.1.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Waktu pembuatan: 21 Feb 2025 pada 17.51
-- Versi server: 10.4.22-MariaDB
-- Versi PHP: 7.4.27

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `perfume_segmentation`
--

-- --------------------------------------------------------

--
-- Struktur dari tabel `clusters`
--

CREATE TABLE IF NOT EXISTS `clusters` (
  `id` int(11) NOT NULL,
  `label` varchar(100) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- --------------------------------------------------------

--
-- Struktur dari tabel `perfumes`
--

CREATE TABLE IF NOT EXISTS `perfumes` (
  `id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data untuk tabel `perfumes`
--

INSERT INTO `perfumes` (`id`, `name`) VALUES
(0, 'Bacarat'),
(1, 'D&G'),
(2, 'Paris Hilton'),
(3, 'Avril'),
(4, 'Makkah Madinah');

-- --------------------------------------------------------

--
-- Struktur dari tabel `professions`
--

CREATE TABLE IF NOT EXISTS `professions` (
  `id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data untuk tabel `professions`
--

INSERT INTO `professions` (`id`, `name`) VALUES
(0, 'Ibu Rumah Tangga'),
(1, 'Pegawai Negeri'),
(2, 'Karyawan'),
(3, 'Pelajar'),
(4, 'Mahasiswa'),
(5, 'Freelancer\r\n');

-- --------------------------------------------------------

--
-- Struktur dari tabel `results`
--

CREATE TABLE IF NOT EXISTS `results` (
  `id` int(11) NOT NULL,
  `cluster_id` int(11) NOT NULL,
  `sales_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- --------------------------------------------------------

--
-- Struktur dari tabel `sales`
--

CREATE TABLE IF NOT EXISTS `sales` (
  `id` int(11) NOT NULL,
  `perfume_id` int(11) NOT NULL,
  `profession_id` int(11) NOT NULL,
  `age` int(11) NOT NULL,
  `gender` int(1) NOT NULL,
  `createdAt` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data untuk tabel `sales`
--

INSERT INTO `sales` (`id`, `perfume_id`, `profession_id`, `age`, `gender`, `createdAt`) VALUES
(1, 0, 0, 54, 0, '2025-02-17 03:42:25'),
(2, 1, 0, 49, 0, '2025-02-17 03:48:22'),
(3, 2, 1, 26, 0, '2025-02-17 03:51:51'),
(4, 1, 2, 40, 0, '2025-02-17 03:56:46'),
(5, 0, 2, 52, 0, '2025-02-17 03:56:46'),
(6, 0, 0, 51, 0, '2025-02-17 03:56:46'),
(7, 0, 2, 57, 1, '2025-02-17 04:04:08'),
(8, 1, 3, 16, 1, '2025-02-17 04:04:08'),
(9, 3, 4, 20, 1, '2025-02-17 04:04:08'),
(10, 1, 5, 56, 0, '2025-02-17 05:29:23'),
(11, 1, 1, 42, 1, '2025-02-17 05:37:21'),
(12, 3, 3, 14, 1, '2025-02-17 05:37:21'),
(13, 1, 0, 44, 0, '2025-02-17 05:37:21'),
(14, 1, 4, 26, 1, '2025-02-17 05:37:21'),
(15, 0, 5, 20, 1, '2025-02-17 05:37:21'),
(16, 3, 0, 31, 0, '2025-02-17 07:14:05'),
(17, 1, 4, 23, 1, '2025-02-17 07:14:05'),
(18, 3, 3, 15, 0, '2025-02-17 07:14:05'),
(19, 0, 4, 23, 1, '2025-02-17 07:14:05'),
(20, 1, 2, 44, 1, '2025-02-17 07:14:05'),
(21, 0, 3, 15, 0, '2025-02-21 16:28:09'),
(22, 0, 1, 36, 1, '2025-02-21 16:30:05'),
(23, 2, 0, 39, 0, '2025-02-21 16:38:19'),
(24, 1, 2, 32, 0, '2025-02-21 16:38:19'),
(25, 4, 1, 41, 0, '2025-02-21 16:38:19'),
(26, 2, 4, 21, 0, '2025-02-21 16:38:19'),
(27, 1, 2, 22, 1, '2025-02-21 16:38:19'),
(28, 1, 1, 45, 1, '2025-02-21 16:38:19'),
(29, 0, 3, 16, 0, '2025-02-21 16:38:19'),
(30, 0, 4, 21, 1, '2025-02-21 16:38:19'),
(31, 0, 1, 28, 1, '2025-02-21 16:38:19'),
(32, 0, 4, 24, 1, '2025-02-21 16:38:19'),
(33, 3, 1, 29, 1, '2025-02-21 16:38:19'),
(34, 4, 0, 56, 0, '2025-02-21 16:38:19'),
(35, 2, 3, 19, 1, '2025-02-21 16:38:19'),
(36, 3, 2, 56, 0, '2025-02-21 16:38:19'),
(37, 0, 1, 17, 1, '2025-02-21 16:38:19'),
(38, 0, 4, 21, 1, '2025-02-21 16:38:19'),
(39, 0, 3, 17, 0, '2025-02-21 16:38:19'),
(40, 3, 2, 27, 0, '2025-02-21 16:38:19'),
(41, 0, 4, 23, 0, '2025-02-21 16:38:19'),
(42, 1, 3, 14, 0, '2025-02-21 16:38:19'),
(43, 1, 4, 24, 1, '2025-02-21 16:38:19'),
(44, 2, 5, 30, 0, '2025-02-21 16:38:19'),
(45, 1, 5, 23, 0, '2025-02-21 16:38:19'),
(46, 1, 3, 15, 1, '2025-02-21 16:38:19'),
(47, 1, 2, 57, 1, '2025-02-21 16:38:19'),
(48, 2, 2, 22, 0, '2025-02-21 16:38:19'),
(49, 0, 4, 21, 0, '2025-02-21 16:38:19'),
(50, 2, 3, 18, 0, '2025-02-21 16:38:19'),
(51, 2, 1, 44, 0, '2025-02-21 16:38:19'),
(52, 1, 5, 59, 0, '2025-02-21 16:38:19'),
(53, 2, 2, 31, 0, '2025-02-21 16:38:19'),
(54, 4, 5, 38, 0, '2025-02-21 16:38:19'),
(55, 0, 1, 25, 1, '2025-02-21 16:38:19'),
(56, 0, 1, 53, 0, '2025-02-21 16:38:19'),
(57, 1, 0, 53, 0, '2025-02-21 16:38:19'),
(58, 0, 4, 20, 1, '2025-02-21 16:38:19'),
(59, 1, 4, 22, 1, '2025-02-21 16:38:19'),
(60, 2, 4, 25, 0, '2025-02-21 16:38:19'),
(61, 4, 3, 14, 0, '2025-02-21 16:38:19'),
(62, 0, 2, 21, 0, '2025-02-21 16:38:19'),
(63, 3, 2, 52, 0, '2025-02-21 16:38:19'),
(64, 0, 0, 16, 0, '2025-02-21 16:38:19'),
(65, 0, 5, 34, 0, '2025-02-21 16:38:19'),
(66, 0, 0, 51, 0, '2025-02-21 16:38:19'),
(67, 1, 0, 58, 0, '2025-02-21 16:38:19'),
(68, 1, 1, 39, 1, '2025-02-21 16:38:19'),
(69, 2, 4, 20, 0, '2025-02-21 16:38:19'),
(70, 2, 3, 19, 0, '2025-02-21 16:38:19'),
(71, 1, 2, 27, 1, '2025-02-21 16:38:19'),
(72, 4, 3, 19, 0, '2025-02-21 16:38:19'),
(73, 0, 4, 22, 1, '2025-02-21 16:38:19'),
(74, 2, 4, 25, 1, '2025-02-21 16:38:19'),
(75, 0, 2, 55, 0, '2025-02-21 16:38:19'),
(76, 2, 1, 30, 1, '2025-02-21 16:38:19'),
(77, 4, 5, 21, 1, '2025-02-21 16:38:19'),
(78, 3, 0, 59, 0, '2025-02-21 16:38:19'),
(79, 2, 1, 34, 0, '2025-02-21 16:38:19'),
(80, 1, 4, 24, 0, '2025-02-21 16:38:19'),
(81, 3, 4, 23, 1, '2025-02-21 16:38:19'),
(82, 2, 1, 22, 0, '2025-02-21 16:38:19'),
(83, 3, 0, 51, 0, '2025-02-21 16:38:19'),
(84, 0, 0, 17, 0, '2025-02-21 16:38:19'),
(85, 2, 4, 21, 0, '2025-02-21 16:38:19'),
(86, 1, 5, 49, 0, '2025-02-21 16:38:19'),
(87, 4, 0, 42, 0, '2025-02-21 16:38:19'),
(88, 3, 0, 57, 0, '2025-02-21 16:38:19'),
(89, 1, 2, 38, 1, '2025-02-21 16:38:19'),
(90, 1, 5, 19, 1, '2025-02-21 16:38:19'),
(91, 1, 2, 47, 0, '2025-02-21 16:38:19'),
(92, 0, 3, 16, 0, '2025-02-21 16:38:19'),
(93, 0, 1, 36, 1, '2025-02-21 16:38:19'),
(94, 3, 4, 25, 0, '2025-02-21 16:38:19'),
(95, 1, 0, 41, 0, '2025-02-21 16:38:19'),
(96, 2, 3, 16, 0, '2025-02-21 16:38:19'),
(97, 4, 2, 21, 0, '2025-02-21 16:38:19'),
(98, 3, 0, 42, 0, '2025-02-21 16:38:19'),
(99, 4, 1, 38, 0, '2025-02-21 16:38:19'),
(100, 0, 2, 55, 1, '2025-02-21 16:38:19'),
(101, 1, 5, 44, 1, '2025-02-21 16:50:13'),
(102, 0, 5, 60, 1, '2025-02-21 16:50:13'),
(103, 0, 4, 24, 0, '2025-02-21 16:50:13'),
(104, 3, 0, 42, 0, '2025-02-21 16:50:13'),
(105, 2, 3, 16, 1, '2025-02-21 16:50:13'),
(106, 0, 4, 48, 0, '2025-02-21 16:50:13'),
(107, 1, 0, 56, 0, '2025-02-21 16:50:13'),
(108, 3, 0, 32, 0, '2025-02-21 16:50:13'),
(109, 3, 0, 54, 0, '2025-02-21 16:50:13'),
(110, 4, 0, 49, 0, '2025-02-21 16:50:13'),
(111, 0, 0, 45, 0, '2025-02-21 16:50:13'),
(112, 2, 4, 24, 0, '2025-02-21 16:50:13'),
(113, 3, 1, 42, 0, '2025-02-21 16:50:13'),
(114, 1, 1, 52, 0, '2025-02-21 16:50:13'),
(115, 4, 4, 22, 1, '2025-02-21 16:50:13'),
(116, 0, 5, 35, 1, '2025-02-21 16:50:13'),
(117, 2, 1, 30, 0, '2025-02-21 16:50:13'),
(118, 0, 3, 19, 1, '2025-02-21 16:50:13'),
(119, 0, 3, 32, 0, '2025-02-21 16:50:13'),
(120, 1, 5, 43, 1, '2025-02-21 16:50:13'),
(121, 0, 4, 20, 1, '2025-02-21 16:50:13'),
(122, 3, 3, 17, 0, '2025-02-21 16:50:13'),
(123, 0, 4, 21, 0, '2025-02-21 16:50:13'),
(124, 3, 3, 14, 0, '2025-02-21 16:50:13'),
(125, 1, 2, 57, 1, '2025-02-21 16:50:13'),
(126, 2, 5, 39, 1, '2025-02-21 16:50:13'),
(127, 1, 5, 36, 1, '2025-02-21 16:50:13'),
(128, 4, 5, 16, 1, '2025-02-21 16:50:13'),
(129, 0, 4, 22, 0, '2025-02-21 16:50:13'),
(130, 0, 0, 35, 0, '2025-02-21 16:50:13'),
(131, 2, 5, 26, 1, '2025-02-21 16:50:13'),
(132, 1, 3, 16, 1, '2025-02-21 16:50:13'),
(133, 0, 2, 28, 1, '2025-02-21 16:50:13'),
(134, 4, 4, 22, 1, '2025-02-21 16:50:13'),
(135, 1, 3, 15, 0, '2025-02-21 16:50:13'),
(136, 3, 0, 36, 0, '2025-02-21 16:50:13'),
(137, 1, 3, 15, 0, '2025-02-21 16:50:13'),
(138, 0, 5, 53, 0, '2025-02-21 16:50:13'),
(139, 0, 2, 59, 1, '2025-02-21 16:50:13'),
(140, 1, 5, 32, 0, '2025-02-21 16:50:13'),
(141, 3, 1, 50, 1, '2025-02-21 16:50:13'),
(142, 3, 5, 15, 0, '2025-02-21 16:50:13'),
(143, 2, 1, 48, 0, '2025-02-21 16:50:13'),
(144, 0, 5, 27, 0, '2025-02-21 16:50:13'),
(145, 3, 2, 20, 1, '2025-02-21 16:50:13'),
(146, 1, 2, 30, 0, '2025-02-21 16:50:13'),
(147, 3, 4, 21, 1, '2025-02-21 16:50:13'),
(148, 0, 5, 46, 0, '2025-02-21 16:50:13'),
(149, 1, 1, 50, 0, '2025-02-21 16:50:13'),
(150, 2, 4, 20, 1, '2025-02-21 16:50:13'),
(151, 4, 3, 19, 0, '2025-02-21 16:50:13'),
(152, 0, 2, 45, 1, '2025-02-21 16:50:13'),
(153, 3, 4, 25, 0, '2025-02-21 16:50:13'),
(154, 3, 2, 60, 0, '2025-02-21 16:50:13'),
(155, 1, 4, 26, 1, '2025-02-21 16:50:13'),
(156, 1, 3, 16, 0, '2025-02-21 16:50:13'),
(157, 2, 3, 16, 0, '2025-02-21 16:50:13'),
(158, 3, 0, 29, 0, '2025-02-21 16:50:13'),
(159, 1, 1, 33, 1, '2025-02-21 16:50:13'),
(160, 1, 0, 29, 0, '2025-02-21 16:50:13'),
(161, 1, 1, 40, 1, '2025-02-21 16:50:13'),
(162, 0, 3, 19, 1, '2025-02-21 16:50:13'),
(163, 1, 4, 20, 1, '2025-02-21 16:50:13'),
(164, 4, 5, 34, 1, '2025-02-21 16:50:13'),
(165, 0, 2, 57, 0, '2025-02-21 16:50:13'),
(166, 1, 3, 13, 1, '2025-02-21 16:50:13'),
(167, 1, 3, 18, 1, '2025-02-21 16:50:13'),
(168, 0, 4, 45, 1, '2025-02-21 16:50:13'),
(169, 1, 5, 50, 1, '2025-02-21 16:50:13'),
(170, 1, 3, 18, 1, '2025-02-21 16:50:13'),
(171, 4, 3, 17, 1, '2025-02-21 16:50:13'),
(172, 3, 4, 22, 1, '2025-02-21 16:50:13'),
(173, 3, 3, 16, 0, '2025-02-21 16:50:13'),
(174, 0, 1, 36, 1, '2025-02-21 16:50:13'),
(175, 0, 1, 37, 1, '2025-02-21 16:50:13'),
(176, 1, 5, 59, 0, '2025-02-21 16:50:13'),
(177, 1, 1, 44, 1, '2025-02-21 16:50:13'),
(178, 3, 1, 32, 1, '2025-02-21 16:50:13'),
(179, 3, 3, 14, 0, '2025-02-21 16:50:13'),
(180, 3, 2, 31, 1, '2025-02-21 16:50:13'),
(181, 0, 1, 29, 1, '2025-02-21 16:50:13'),
(182, 0, 5, 22, 1, '2025-02-21 16:50:13'),
(183, 4, 1, 27, 1, '2025-02-21 16:50:13'),
(184, 1, 3, 15, 1, '2025-02-21 16:50:13'),
(185, 3, 0, 22, 0, '2025-02-21 16:50:13'),
(186, 2, 3, 19, 1, '2025-02-21 16:50:13'),
(187, 0, 4, 23, 0, '2025-02-21 16:50:13'),
(188, 1, 5, 26, 1, '2025-02-21 16:50:13'),
(189, 1, 1, 27, 1, '2025-02-21 16:50:13'),
(190, 3, 4, 24, 0, '2025-02-21 16:50:13'),
(191, 3, 1, 45, 1, '2025-02-21 16:50:13'),
(192, 2, 0, 32, 0, '2025-02-21 16:50:13'),
(193, 1, 2, 52, 0, '2025-02-21 16:50:13'),
(194, 4, 0, 48, 2, '2025-02-21 16:50:13'),
(195, 3, 3, 13, 1, '2025-02-21 16:50:13'),
(196, 0, 3, 13, 0, '2025-02-21 16:50:13'),
(197, 3, 4, 21, 0, '2025-02-21 16:50:13'),
(198, 1, 4, 23, 0, '2025-02-21 16:50:13'),
(199, 4, 3, 13, 1, '2025-02-21 16:50:13'),
(200, 0, 5, 29, 0, '2025-02-21 16:50:13'),
(201, 4, 3, 18, 1, '2025-02-21 16:50:13'),
(202, 4, 3, 16, 1, '2025-02-21 16:50:13'),
(203, 0, 1, 34, 0, '2025-02-21 16:50:13'),
(204, 1, 0, 15, 0, '2025-02-21 16:50:13'),
(205, 3, 5, 60, 1, '2025-02-21 16:50:13'),
(206, 1, 1, 49, 1, '2025-02-21 16:50:13'),
(207, 3, 2, 24, 0, '2025-02-21 16:50:13'),
(208, 1, 5, 32, 0, '2025-02-21 16:50:13'),
(209, 2, 1, 27, 0, '2025-02-21 16:50:13'),
(210, 4, 3, 18, 1, '2025-02-21 16:50:13'),
(211, 2, 1, 50, 0, '2025-02-21 16:50:13'),
(212, 0, 4, 23, 0, '2025-02-21 16:50:13'),
(213, 3, 5, 59, 1, '2025-02-21 16:50:13'),
(214, 3, 3, 14, 1, '2025-02-21 16:50:13'),
(215, 4, 0, 55, 0, '2025-02-21 16:50:13'),
(216, 4, 1, 46, 1, '2025-02-21 16:50:13'),
(217, 3, 3, 15, 1, '2025-02-21 16:50:13');

-- --------------------------------------------------------

--
-- Indexes for dumped tables
--

--
-- Indeks untuk tabel `clusters`
--
ALTER TABLE `clusters`
  ADD PRIMARY KEY (`id`);

--
-- Indeks untuk tabel `perfumes`
--
ALTER TABLE `perfumes`
  ADD PRIMARY KEY (`id`);

--
-- Indeks untuk tabel `professions`
--
ALTER TABLE `professions`
  ADD PRIMARY KEY (`id`);

--
-- Indeks untuk tabel `results`
--
ALTER TABLE `results`
  ADD PRIMARY KEY (`id`),
  ADD KEY `cluster_id` (`cluster_id`),
  ADD KEY `sales_id` (`sales_id`);

--
-- Indeks untuk tabel `sales`
--
ALTER TABLE `sales`
  ADD PRIMARY KEY (`id`),
  ADD KEY `perfume_id` (`perfume_id`),
  ADD KEY `profession_id` (`profession_id`);

--
-- AUTO_INCREMENT untuk tabel yang dibuang
--

--
-- AUTO_INCREMENT untuk tabel `clusters`
--
ALTER TABLE `clusters`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT untuk tabel `perfumes`
--
ALTER TABLE `perfumes`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

--
-- AUTO_INCREMENT untuk tabel `professions`
--
ALTER TABLE `professions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;

--
-- AUTO_INCREMENT untuk tabel `results`
--
ALTER TABLE `results`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT untuk tabel `sales`
--
ALTER TABLE `sales`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=218;

--
-- Ketidakleluasaan untuk tabel pelimpahan (Dumped Tables)
--

--
-- Ketidakleluasaan untuk tabel `results`
--
ALTER TABLE `results`
  ADD CONSTRAINT `results_ibfk_1` FOREIGN KEY (`cluster_id`) REFERENCES `clusters` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `results_ibfk_2` FOREIGN KEY (`sales_id`) REFERENCES `sales` (`id`) ON DELETE CASCADE;

--
-- Ketidakleluasaan untuk tabel `sales`
--
ALTER TABLE `sales`
  ADD CONSTRAINT `sales_ibfk_1` FOREIGN KEY (`perfume_id`) REFERENCES `perfumes` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `sales_ibfk_2` FOREIGN KEY (`profession_id`) REFERENCES `professions` (`id`) ON DELETE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
